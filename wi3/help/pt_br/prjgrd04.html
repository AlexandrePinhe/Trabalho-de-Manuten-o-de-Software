<html>
<head>
   <title>XMLOut</title>
   <meta name="generator" content="Help & Manual">
   <meta name="keywords" content="">
</head>


  <!-- Redirect browser to index page if page is not in the content frame.
       This script is only valid for regular HTML export -->
  <script language="JavaScript">
       <!--
           if(top.frames.length==0) top.location.href='index.html?prjgrd04.html'
       //-->
  </script>


<body bgcolor="#FFFFFF">


<table width="100%" border="0" cellspacing="0" cellpadding="2" bgcolor="#C0C0C0">
  <tr>
    <td align="left">
      
<span style="font-family:MS Sans Serif; font-size:12pt; color:#000000"><b>XMLOut
<br>
</b></span>
    </td>
    <td align="right">
     <font face="Arial" size="2">
     <a href="javaScript:parent.reDisplay('1.1',1,0)">In&iacute;cio</a>&nbsp;
     <a href="javaScript:parent.reDisplay('1.3.3.2',1,0)">Anterior</a>&nbsp;
     <a href="javaScript:parent.reDisplay('1.3.3.4',1,0)">Pr&oacute;ximo</a>
     </font>
    </td>
  </tr>
</table>
<br>


<div align="center"><span style="font-family:Helvetica,Arial; font-size:10pt; color:#000000"><img src="minilogowi.png" width="162" height="93" border="0" alt="minilogowi">
<br>
</div><span style="font-family:MS Sans Serif; font-size:1pt; color:#000000"><hr></span><span style="font-family:MS Sans Serif; font-size:10pt; color:#000000">
<br>
</span><span style="font-family:Helvetica,Arial; font-size:12pt; color:#000000"><b><img src="seta.gif" width="15" height="15" border="0" alt="seta"> Grid XMLOut</b></span><span style="font-family:MS Sans Serif; font-size:10pt; color:#000000">
<br>

<br>
</span><span style="font-family:MS Sans Serif; font-size:1pt; color:#000000"><hr></span><span style="font-family:MS Sans Serif; font-size:10pt; color:#000000">
<br>
O grid XMLOut &#233; usado para a gera&#231;&#227;o de conte&#250;do XML tendo como fonte de dados uma consulta feita a um banco de dados. A estrutura XML a ser gerada segue o seguinte esquema baseado nas defini&#231;&#245;es dos campos:
<br>

<br>
</span><span style="font-family:Courier New; font-size:10pt; color:#000000"><span style="font-family:Courier New; font-size:10pt; color:#FF0000">&nbsp;&nbsp;[&lt;valor-do-campo-HEADER&gt;]
<br>
&nbsp;&nbsp;[&lt;valor-do-campo-ROOT&gt;]
<br>
&nbsp;&nbsp;&nbsp;&nbsp;[&lt;valor-do-campo-CHILD&gt;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;|conte&#250;do-do-arquivo-do-campo-MODELO|
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/valor-do-campo-CHILD&gt;]
<br>
&nbsp;&nbsp;&lt;/valor-do-campo-ROOT&gt;</span></span></span><span style="font-family:MS Sans Serif; font-size:10pt; color:#000000">
<br>

<br>
Nesta estrutura os elementos HEADER e ROOT apenas s&#227;o processados uma vez enquanto que o elemento CHILD &#233; processado tantas vezes quanto haja dados ainda a serem recuperados do banco de dados.
<br>

<br>
Para exemplificar caso quis&#233;ssemos gerar um conte&#250;do XML como o que segue logo abaixo:
<br>

<br>
<table border="1" cellpadding="0" cellspacing="0"><tr><td align="left" valign="top" width="575">
<span style="font-family:Courier New; font-size:10pt; color:#000000"><span style="font-family:Courier New; font-size:10pt; color:#FF0000">&lt;?xml&nbsp;version="1.0"&nbsp;encoding="ISO-8859-1"?&gt;
<br>
&lt;!DOCTYPE&nbsp;NoRaiz&nbsp;[
<br>
&nbsp;&nbsp;&lt;!ELEMENT&nbsp;NoRaiz&nbsp;(#PCDATA)&gt;
<br>
&nbsp;&nbsp;&lt;!ENTITY&nbsp;nbsp&nbsp;&amp;#160;&gt;
<br>
&nbsp;&nbsp;&lt;!ENTITY&nbsp;cr&nbsp;&amp;#13;&gt;
<br>
&nbsp;&nbsp;&lt;!ENTITY&nbsp;lf&nbsp;&amp;#10;&gt;
<br>
]&gt;
<br>

<br>
&lt;NoRaiz&gt;
<br>
&nbsp;&nbsp;&lt;NoFilho&nbsp;Id="0"&gt;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;Elemento1&gt;valor0.1&lt;/Elemento1&gt;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;Elemento2&gt;valor0.2&lt;/Elemento2&gt;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;Elemento3&gt;valor0.3&lt;/Elemento3&gt;
<br>
&nbsp;&nbsp;&lt;/NoFilho&gt;
<br>
&nbsp;&nbsp;&lt;NoFilho&nbsp;Id="1"&gt;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;Elemento1&gt;valor1.1&lt;/Elemento1&gt;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;Elemento2&gt;valor1.2&lt;/Elemento2&gt;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;Elemento3&gt;valor1.3&lt;/Elemento3&gt;
<br>
&nbsp;&nbsp;&lt;/NoFilho&gt;
<br>
&nbsp;&nbsp;&lt;NoFilho&nbsp;Id="2"&gt;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;Elemento1&gt;valor2.1&lt;/Elemento1&gt;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;Elemento2&gt;valor2.2&lt;/Elemento2&gt;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;Elemento3&gt;valor2.3&lt;/Elemento3&gt;
<br>
&nbsp;&nbsp;&lt;/NoFilho&gt;
<br>
&lt;/NoRaiz&gt;</span><span style="font-family:MS Sans Serif; font-size:10pt; color:#000000">
<br>
</span></span></span></td></tr></table>
<br>

<br>
n&#243;s usar&#237;amos as seguintes defini&#231;&#245;es:
<br>

<br>
<table border="1" cellpadding="0" cellspacing="0"><tr><td align="left" valign="top" width="184">
<div align="center"><span style="font-family:MS Sans Serif; font-size:10pt; color:#000000"><b>Nome do Campo</b>
<br>
</span></div></td><td align="left" valign="top" width="391">
<div align="center"><span style="font-family:MS Sans Serif; font-size:10pt; color:#000000"><b>Valor</b>
<br>
</span></div></td></tr><tr><td align="left" valign="top" width="184">
<span style="font-family:MS Sans Serif; font-size:10pt; color:#000000">Cabe&#231;alho
<br>
</span></td><td align="left" valign="top" width="391">
<span style="font-family:Courier New; font-size:10pt; color:#000000"><span style="font-family:Courier New; font-size:10pt; color:#FF0000">&lt;?xml&nbsp;version="1.0"&nbsp;encoding="ISO-8859-1"?&gt;
<br>
&lt;!DOCTYPE&nbsp;|wi.xml.root|&nbsp;[
<br>
&nbsp;&nbsp;&lt;!ELEMENT&nbsp;NoRaiz&nbsp;(#PCDATA)&gt;
<br>
&nbsp;&nbsp;&lt;!ENTITY&nbsp;nbsp&nbsp;&amp;#160;&gt;
<br>
&nbsp;&nbsp;&lt;!ENTITY&nbsp;cr&nbsp;&amp;#13;&gt;
<br>
&nbsp;&nbsp;&lt;!ENTITY&nbsp;lf&nbsp;&amp;#10;&gt;
<br>
]&gt;
<br>
&nbsp;
<br>
</span></span></span></td></tr><tr><td align="left" valign="top" width="184">
<span style="font-family:MS Sans Serif; font-size:10pt; color:#000000">Root
<br>
</span></td><td align="left" valign="top" width="391">
<span style="font-family:Courier New; font-size:10pt; color:#000000"><span style="font-family:Courier New; font-size:10pt; color:#FF0000">NoRaiz
<br>
</span><span style="font-family:MS Sans Serif; font-size:10pt; color:#000000">
<br>
</span></span></span></td></tr><tr><td align="left" valign="top" width="184">
<span style="font-family:MS Sans Serif; font-size:10pt; color:#000000">Child
<br>
</span></td><td align="left" valign="top" width="391">
<span style="font-family:Courier New; font-size:10pt; color:#000000"><span style="font-family:Courier New; font-size:10pt; color:#FF0000">NoFilho&nbsp;Id="|rowid|"
<br>
</span><span style="font-family:MS Sans Serif; font-size:10pt; color:#000000">
<br>
</span></span></span></td></tr><tr><td align="left" valign="top" width="184">
<span style="font-family:MS Sans Serif; font-size:10pt; color:#000000">Conte&#250;do
<br>
</span></td><td align="left" valign="top" width="391">
<span style="font-family:Courier New; font-size:10pt; color:#000000"><span style="font-family:Courier New; font-size:10pt; color:#FF0000">&lt;Elemento1&gt;|valor1|&lt;/Elemento1&gt;
<br>
&lt;Elemento2&gt;|valor2|&lt;/Elemento2&gt;
<br>
&lt;Elemento3&gt;|valor3|&lt;/Elemento3&gt;
<br>
</span><span style="font-family:MS Sans Serif; font-size:10pt; color:#000000">
<br>
</span></span></span></td></tr></table>
<br>

<br>
Logo abaixo segue a rela&#231;&#227;o dos campos que s&#227;o utilizados para se definir a estrutura do conte&#250;do que ser&#225; montada pelo grid XMLOut.
<br>

<br>

<br>
O campo </span><span style="font-family:Courier New; font-size:10pt; color:#000000"><span style="font-family:Courier New; font-size:10pt; color:#0000FF">Banco&nbsp;de&nbsp;Dados</span></span></span><span style="font-family:MS Sans Serif; font-size:10pt; color:#000000"> indica o identificador de um dos servidores de bancos de dados definidos para o projeto que ser&#225; usado para executar o comando.
<br>

<br>
O r&#243;tulo </span><span style="font-family:Courier New; font-size:10pt; color:#000000"><span style="font-family:Courier New; font-size:10pt; color:#0000FF">Cabe&#231;alho</span></span></span><span style="font-family:MS Sans Serif; font-size:10pt; color:#000000"> &#233; um link para a p&#225;gina de edi&#231;&#227;o do cabe&#231;alho do conte&#250;do XML a ser gerado. O cabe&#231;alho de um arquivo XML dever&#225; possuir no m&#237;nimo uma entrada semelhante &#224;:
<br>

<br>
<div align="center"></span><span style="font-family:Courier New; font-size:10pt; color:#000000"><span style="font-family:Courier New; font-size:10pt; color:#FF0000">&lt;?xml&nbsp;version="1.0"&nbsp;encoding="ISO-8859-1"?&gt;</span></span></span><span style="font-family:MS Sans Serif; font-size:10pt; color:#000000">
<br>
</div>
<br>
Ainda no cabe&#231;alho, opcionalmente, poder&#225; ser definido qual o pr&#243;logo desse conte&#250;do XML.
<br>

<br>
O campo </span><span style="font-family:Courier New; font-size:10pt; color:#000000"><span style="font-family:Courier New; font-size:10pt; color:#0000FF">Child</span></span></span><span style="font-family:MS Sans Serif; font-size:10pt; color:#000000"> define como ser&#225; a estrutura dos elementos filhos.
<br>

<br>
O r&#243;tulo </span><span style="font-family:Courier New; font-size:10pt; color:#000000"><span style="font-family:Courier New; font-size:10pt; color:#0000FF">Conte&#250;do</span></span></span><span style="font-family:MS Sans Serif; font-size:10pt; color:#000000"> &#233; um link para a p&#225;gina de edi&#231;&#227;o do conte&#250;do XML que ser&#225; populado e gerado de acordo com o resultado vindo da consulta &#224; fonte de dados.
<br>

<br>
O campo </span><span style="font-family:Courier New; font-size:10pt; color:#000000"><span style="font-family:Courier New; font-size:10pt; color:#0000FF">Descri&#231;&#227;o</span></span></span><span style="font-family:MS Sans Serif; font-size:10pt; color:#000000"> serve para que o desenvolvedor da aplica&#231;&#227;o escreva um breve coment&#225;rio sobre a a&#231;&#227;o a ser executada pelo componente em quest&#227;o.
<br>

<br>
O campo </span><span style="font-family:Courier New; font-size:10pt; color:#000000"><span style="font-family:Courier New; font-size:10pt; color:#0000FF">Filtrar</span></span></span><span style="font-family:MS Sans Serif; font-size:10pt; color:#000000"> define quais os caracteres que dever&#227;o ser filtrados do conte&#250;do das vari&#225;veis de sess&#227;o do WebIntegrator que est&#227;o sendo referenciadas no campo </span><span style="font-family:Courier New; font-size:10pt; color:#000000"><span style="font-family:Courier New; font-size:10pt; color:#0000FF">SQL</span></span></span><span style="font-family:MS Sans Serif; font-size:10pt; color:#000000"> antes da execu&#231;&#227;o do comando. O objetivo &#233; impedir que certos caracteres sejam passados para o comando a ser executada pelo banco de dados evitando que assim que o resultado do comando n&#227;o seja intencionalmente alterado.
<br>

<br>
Como exemplo suponha que haja a instru&#231;&#227;o </span><span style="font-family:Courier New; font-size:10pt; color:#000000">SELECT&nbsp;*&nbsp;FROM&nbsp;tabCadastros&nbsp;WHERE&nbsp;nome&nbsp;LIKE&nbsp;|tmp.nome|%&nbsp;AND&nbsp;publico&nbsp;=&nbsp;1</span><span style="font-family:MS Sans Serif; font-size:10pt; color:#000000"> e o usu&#225;rio da aplica&#231;&#227;o ao preencher o formul&#225;rio coloque no campo correspondente &#224; vari&#225;vel tmp.nome um valor como </span><span style="font-family:Courier New; font-size:10pt; color:#000000">%&nbsp;OR&nbsp;nome&nbsp;=&nbsp;</span><span style="font-family:MS Sans Serif; font-size:10pt; color:#000000">. Se o campo </span><span style="font-family:Courier New; font-size:10pt; color:#000000"><span style="font-family:Courier New; font-size:10pt; color:#0000FF">Filtrar</span></span></span><span style="font-family:MS Sans Serif; font-size:10pt; color:#000000"> n&#227;o estiver definido com os caracteres </span><span style="font-family:Courier New; font-size:10pt; color:#000000">%</span><span style="font-family:MS Sans Serif; font-size:10pt; color:#000000"> e o WebIntegrator ir&#225; processar a seguinte instru&#231;&#227;o </span><span style="font-family:Courier New; font-size:10pt; color:#000000">SELECT&nbsp;*&nbsp;FROM&nbsp;cadastros&nbsp;WHERE&nbsp;nome&nbsp;LIKE&nbsp;%&nbsp;OR&nbsp;nome&nbsp;=&nbsp;%&nbsp;AND&nbsp;publico&nbsp;=&nbsp;1</span><span style="font-family:MS Sans Serif; font-size:10pt; color:#000000"> retornando como resultado todos as linhas da tabela.
<br>

<br>
A op&#231;&#227;o </span><span style="font-family:Courier New; font-size:10pt; color:#000000"><span style="font-family:Courier New; font-size:10pt; color:#0000FF">Gerar</span></span></span><span style="font-family:MS Sans Serif; font-size:10pt; color:#000000"> indica se o WebIntegrator ir&#225; gerar o modelo simples do grid baseado nas configura&#231;&#245;es atuais. O modelo s&#243; ser&#225; criado ap&#243;s a grava&#231;&#227;o da defini&#231;&#227;o. Esse campo apenas se refere aos grids que utilizem o modelo simples.
<br>

<br>
O campo </span><span style="font-family:Courier New; font-size:10pt; color:#000000"><span style="font-family:Courier New; font-size:10pt; color:#0000FF">Identa&#231;&#227;o</span></span></span><span style="font-family:MS Sans Serif; font-size:10pt; color:#000000"> indica a quantidade de espa&#231;os em branco que ser&#225; utilizada para realizar a identa&#231;&#227;o do conte&#250;do XML gerado.
<br>

<br>
O campo </span><span style="font-family:Courier New; font-size:10pt; color:#000000"><span style="font-family:Courier New; font-size:10pt; color:#0000FF">Identificador</span></span></span><span style="font-family:MS Sans Serif; font-size:10pt; color:#000000"> serve para que o desenvolvedor entre com um identificador &#250;nico para o componente de p&#225;gina ou de projeto que est&#225; sendo definido. Ser&#225; atrav&#233;s desse identificador que o componente e/ou seus valores ser&#227;o referenciado nas p&#225;ginas do projeto.
<br>

<br>
A depender do componente que se estiver definindo para que o mesmo seja referenciado numa p&#225;gina ser&#225; necess&#225;rio o acr&#233;scimo de um prefixo como &#233; o caso dos componentes Grid e Combo, nesses dois casos &#233; obrigat&#243;rio o uso dos prefixos </span><span style="font-family:Courier New; font-size:10pt; color:#000000">grid.</span><span style="font-family:MS Sans Serif; font-size:10pt; color:#000000"> e </span><span style="font-family:Courier New; font-size:10pt; color:#000000">combo.</span><span style="font-family:MS Sans Serif; font-size:10pt; color:#000000"> antes dos respectivos identificadores para que o conte&#250;do correto seja exibido.
<br>

<br>
O campo </span><span style="font-family:Courier New; font-size:10pt; color:#000000"><span style="font-family:Courier New; font-size:10pt; color:#0000FF">Root</span></span></span><span style="font-family:MS Sans Serif; font-size:10pt; color:#000000"> define como ser&#225; a estrutura do elemento raiz do conte&#250;do XML a ser gerado.
<br>

<br>
O campo </span><span style="font-family:Courier New; font-size:10pt; color:#000000"><span style="font-family:Courier New; font-size:10pt; color:#0000FF">SQL</span></span></span><span style="font-family:MS Sans Serif; font-size:10pt; color:#000000"> cont&#233;m o comando que ser&#225; enviado para ser processado pelo banco de dados. Caso o comando seja composto por mais de uma instru&#231;&#227;o SQL separe-as por ponto-e-v&#237;rgula.
<br>

<br>
No componente Upload de Banco de Dados o valor da coluna relativo ao conte&#250;do dever&#225; ser referenciado por um sinal de interroga&#231;&#227;o, exemplo: </span><span style="font-family:Courier New; font-size:10pt; color:#000000">INSERT&nbsp;INTO&nbsp;MinhaTabela&nbsp;(arquivo,&nbsp;conteudo)&nbsp;VALUES&nbsp;(|tmp.arquivo|,&nbsp;?)</span><span style="font-family:MS Sans Serif; font-size:10pt; color:#000000">.
<br>

<br>
A estrutura do comando a ser executado &#233; dependente do banco de dados, podendo ser feitas chamadas a stored procedures, rotinas M (atrav&#233;s do MJava), m&#233;todos de objetos do Cach&#233;Factory, execu&#231;&#227;o de instru&#231;&#245;es SQL, etc. Para saber maiores detalhes como fazer essas chamadas <a href=javaScript:parent.reDisplay('1.1.7',1,0)>clique aqui</a>.
<br>

<br>
</span></span></span>

</body>
</html>
