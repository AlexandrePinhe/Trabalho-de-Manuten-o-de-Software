<html>
<head>
   <title>Vari&aacute;veis de um XML</title>
   <meta name="generator" content="Help & Manual">
   <meta name="keywords" content="">
</head>


  <!-- Redirect browser to index page if page is not in the content frame.
       This script is only valid for regular HTML export -->
  <script language="JavaScript">
       <!--
           if(top.frames.length==0) top.location.href='index.html?variaveisprocessamentoxml.html'
       //-->
  </script>


<body bgcolor="#FFFFFF">


<table width="100%" border="0" cellspacing="0" cellpadding="2" bgcolor="#C0C0C0">
  <tr>
    <td align="left">
      
<span style="font-family:MS Sans Serif; font-size:12pt; color:#000000"><b>Vari&#225;veis de um XML
<br>
</b></span>
    </td>
    <td align="right">
     <font face="Arial" size="2">
     <a href="javaScript:parent.reDisplay('1.1',1,0)">In&iacute;cio</a>&nbsp;
     <a href="javaScript:parent.reDisplay('1.1.2.2',1,0)">Anterior</a>&nbsp;
     <a href="javaScript:parent.reDisplay('1.1.2.4',1,0)">Pr&oacute;ximo</a>
     </font>
    </td>
  </tr>
</table>
<br>


<div align="center"><span style="font-family:Helvetica,Arial; font-size:10pt; color:#000000"><img src="minilogowi.png" width="162" height="93" border="0" alt="minilogowi">
<br>
</div><span style="font-family:Helvetica,Arial; font-size:1pt; color:#000000"><hr></span><span style="font-family:Helvetica,Arial; font-size:10pt; color:#000000">
<br>
</span><span style="font-family:Helvetica,Arial; font-size:12pt; color:#000000"><b><img src="seta.gif" width="15" height="15" border="0" alt="seta"> </b></span><span style="font-family:MS Sans Serif; font-size:12pt; color:#000000"><b>Vari&#225;veis de um processamento XML</b></span><span style="font-family:Helvetica,Arial; font-size:10pt; color:#000000">
<br>

<br>
</span><span style="font-family:MS Sans Serif; font-size:1pt; color:#000000"><hr></span><span style="font-family:MS Sans Serif; font-size:10pt; color:#000000">
<br>
Ap&#243;s o processamento de um conte&#250;do que tenha seguido o padr&#227;o de formata&#231;&#227;o XML e desde que o desenvolvedor tenha habilitado a decodifica&#231;&#227;o o WebIntegrator gera automaticamente algumas vari&#225;veis de sess&#227;o. Todo elemento XML processado pelo WebIntegrator possui as seguintes propriedades: 
<br>

<br>
<table border="1" cellpadding="0" cellspacing="0"><tr><td align="left" valign="top" width="96" bgcolor="#FFF7EF">
<div align="center"><span style="font-family:MS Sans Serif; font-size:10pt; color:#000000"><b>Propriedade</b>
<br>
</span></div></td><td align="left" valign="top" width="432" bgcolor="#FFF7EF">
<div align="center"><span style="font-family:MS Sans Serif; font-size:10pt; color:#000000"><b>Descri&#231;&#227;o</b>
<br>
</span></div></td></tr><tr><td align="left" valign="top" width="96" bgcolor="#FFF7EF">
<span style="font-family:Courier New; font-size:10pt; color:#000000"><span style="font-family:Courier New; font-size:10pt; color:#00007F"><b>all()</b></span><span style="font-family:MS Sans Serif; font-size:10pt; color:#000000">
<br>
</span></span></span></td><td align="left" valign="top" width="432" bgcolor="#FFF7EF">
<span style="font-family:MS Sans Serif; font-size:10pt; color:#000000">Retorna todos os elementos e respectivos valores das propriedades associadas a cada elemento do conte&#250;do XML que foi processado.
<br>
</span></td></tr><tr><td align="left" valign="top" width="96" bgcolor="#FFF7EF">
<span style="font-family:Courier New; font-size:10pt; color:#000000"><span style="font-family:Courier New; font-size:10pt; color:#00007F"><b>root()</b></span><span style="font-family:MS Sans Serif; font-size:10pt; color:#000000">
<br>
</span></span></span></td><td align="left" valign="top" width="432" bgcolor="#FFF7EF">
<span style="font-family:MS Sans Serif; font-size:10pt; color:#000000">Retorna o nome do elemento raiz da estrutura XML.
<br>
</span></td></tr><tr><td align="left" valign="top" width="96" bgcolor="#FFF7EF">
<span style="font-family:Courier New; font-size:10pt; color:#000000"><span style="font-family:Courier New; font-size:10pt; color:#00007F"><b>error()</b></span><span style="font-family:MS Sans Serif; font-size:10pt; color:#000000">
<br>
</span></span></span></td><td align="left" valign="top" width="432" bgcolor="#FFF7EF">
<span style="font-family:MS Sans Serif; font-size:10pt; color:#000000">Retorna o erro que foi encontrado durante o processamento XML.
<br>
</span></td></tr><tr><td align="left" valign="top" width="96" bgcolor="#FFF7EF">
<span style="font-family:Courier New; font-size:10pt; color:#000000"><span style="font-family:Courier New; font-size:10pt; color:#00007F"><b>size()</b></span><span style="font-family:MS Sans Serif; font-size:10pt; color:#000000">
<br>
</span></span></span></td><td align="left" valign="top" width="432" bgcolor="#FFF7EF">
<span style="font-family:MS Sans Serif; font-size:10pt; color:#000000">Retorna o quantidade de elementos que h&#225; dentro deste n&#243;.
<br>
</span></td></tr></table>
<br>

<br>
Para acessar os elementos que fazem parte do n&#243; raiz basta acess&#225;-los atavr&#233;s de seus &#237;ndices como se estivesse acessando valores armazenados em vetores. Para exemplificar suponha que o conte&#250;do do arquivo tenha sido importado para uma sess&#227;o do WebIntegrator e que a decodifica&#231;&#227;o XML estivesse habilitada durante este processo.
<br>

<br>
</span><span style="font-family:Courier New; font-size:10pt; color:#000000"><span style="font-family:Courier New; font-size:10pt; color:#FF0000">&lt;?xml&nbsp;version="1.0"&nbsp;encoding="ISO-8859-1"?&gt;
<br>
&lt;!DOCTYPE&nbsp;ROOT&nbsp;[
<br>
&nbsp;&nbsp;&lt;!ELEMENT&nbsp;ROOT&nbsp;(#PCDATA)&gt;
<br>
&nbsp;&nbsp;&lt;!ENTITY&nbsp;nbsp&nbsp;&amp;#160;&gt;
<br>
&nbsp;&nbsp;&lt;!ENTITY&nbsp;cr&nbsp;&amp;#13;&gt;
<br>
&nbsp;&nbsp;&lt;!ENTITY&nbsp;lf&nbsp;&amp;#10;&gt;
<br>
]&gt;
<br>
&lt;root&gt;
<br>
&nbsp;&lt;child&gt;
<br>
&nbsp;&nbsp;&lt;rowid&gt;1&lt;/rowid&gt;
<br>
&nbsp;&nbsp;&lt;cod&gt;3&lt;/cod&gt;
<br>
&nbsp;&nbsp;&lt;nome&gt;Fulano&nbsp;de&nbsp;Tal&lt;/nome&gt;
<br>
&nbsp;&nbsp;&nbsp;&lt;root2&gt;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;rowid2&gt;1&lt;/rowid2&gt;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;cod2&gt;3&lt;/cod2&gt;
<br>
&nbsp;&nbsp;&nbsp;&lt;/root2&gt;
<br>
&nbsp;&lt;/child&gt;
<br>
&nbsp;&lt;child&gt;
<br>
&nbsp;&nbsp;&lt;rowid&gt;2&lt;/rowid&gt;
<br>
&nbsp;&nbsp;&lt;cod&gt;4&lt;/cod&gt;
<br>
&nbsp;&nbsp;&lt;nome&gt;Sicrano&lt;/nome&gt;
<br>
&nbsp;&nbsp;&nbsp;&lt;root2&gt;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;rowid2&gt;2&lt;/rowid2&gt;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;cod2&gt;4&lt;/cod2&gt;
<br>
&nbsp;&nbsp;&nbsp;&lt;/root2&gt;
<br>
&nbsp;&lt;/child&gt;
<br>
&lt;/root&gt;
<br>
</span></span></span><span style="font-family:MS Sans Serif; font-size:10pt; color:#000000">   
<br>
Continuando com nosso exemplo digamos que o conte&#250;do desse arquivo foi gravado na vari&#225;vel </span><span style="font-family:Courier New; font-size:10pt; color:#000000"><b>xml</b></span><span style="font-family:MS Sans Serif; font-size:10pt; color:#000000">. Para acessarmos os valores dos elementos que comp&#245;em esse arquivo usamos uma nota&#231;&#227;o semelhante &#224; de vetores:
<br>

<br>
</span><span style="font-family:Courier New; font-size:10pt; color:#000000"><span style="font-family:Courier New; font-size:10pt; color:#FF0000">|&lt;identificador&gt;|[&lt;indice&gt;].&lt;nome-do-elemento&gt;</span></span></span><span style="font-family:MS Sans Serif; font-size:10pt; color:#000000">
<br>

<br>
sendo que o indice sempre come&#231;a de zero. Para demonstrar, se quis&#233;ssemos saber todo o conte&#250;do e os valores das propriedades dos elementos que se encontram em </span><span style="font-family:Courier New; font-size:10pt; color:#000000"><b>xml</b></span><span style="font-family:MS Sans Serif; font-size:10pt; color:#000000"> poder&#237;amos fazer uso da propriedade <span style="font-family:MS Sans Serif; font-size:10pt; color:#00007F"><b>all()</b></span></span></span><span style="font-family:MS Sans Serif; font-size:10pt; color:#000000"> que ela retornaria o seguinte:
<br>

<br>
</span><span style="font-family:Courier New; font-size:10pt; color:#000000"><span style="font-family:Courier New; font-size:10pt; color:#FF0000">xml.size()=2
<br>
xml[0].size()=4
<br>
xml[0].rowid.size()=0
<br>
xml[0].rowid=1
<br>
xml[0].cod.size()=0
<br>
xml[0].cod=3
<br>
xml[0].nome.size()=0
<br>
xml[0].nome=Fulano&nbsp;de&nbsp;Tal
<br>
xml[0].root2.size()=2
<br>
xml[0].root2.rowid2.size()=0
<br>
xml[0].root2.rowid2=1
<br>
xml[0].root2.cod2.size()=0
<br>
xml[0].root2.cod2=3
<br>
xml[1].size()=4
<br>
xml[1].rowid.size()=0
<br>
xml[1].rowid=2
<br>
xml[1].cod.size()=0
<br>
xml[1].cod=4
<br>
xml[1].nome.size()=0
<br>
xml[1].nome=Sicrano
<br>
xml[1].root2.size()=2
<br>
xml[1].root2.rowid2.size()=0
<br>
xml[1].root2.rowid2=2
<br>
xml[1].root2.cod2.size()=0
<br>
xml[1].root2.cod2=4
<br>
</span></span></span><span style="font-family:MS Sans Serif; font-size:10pt; color:#000000">
<br>
</span></span></span>

</body>
</html>
